headline,mainEntityOfPage,image,datePublished,dateModified,author,media_en,media_jp,str_count,body,images,external_links
「macOS」でハードウェアセキュリティキーを使うには（ZDNET Japan）,https://news.yahoo.co.jp/articles/5c45c03674f9fb50b199561f63359a86e4742d8e,https://newsatcl-pctr.c.yimg.jp/t/amd-img/20240113-35213818-zdnet-000-1-view.jpg?exp=10800,2024-01-13T08:30:00+09:00,2024-01-13T08:30:00+09:00,ZDNET Japan,zdnet,ZDNET Japan,2900,\n「macOS」でハードウェアセキュリティキーを使うにはの画像\n筆者は数カ月前から、メインのノートPCとして、「Surface Pro 9」（「Windows 11」を搭載）と「M2」搭載「MacBook Air」を併用している。プラットフォームを切り替えるときは、多少の調整が常に必要になるが、「MacBook」には特に苛立たしい点が1つある。再起動した後、ローカルユーザーアカウントのパスワードを入力しなければ、「Touch ID」指紋認識ハードウェアを使用できないことだ。「Windows Hello」だと、いつでも生体認証やPINを使用してサインオンすることが可能である。macOSも同じように機能させることはできないのだろうか。\n\n 実は可能である。ただし、適切なハードウェアが必要になる。\n\n 具体的には、Personal Identity Verification（PIV）規格をサポートし、ログイン用のスマートカードとして機能するUSBセキュリティキーが必要だ。調べてみたところ、Yubicoの「YubiKey 5」シリーズの製品はすべてこれらの条件を満たしている。ちょうど筆者の手元にYubiKey 5シリーズのキーがいくつかあったので、それらの多用途キーの助けを借りて、MacBookの使いやすさを少し向上させることにした。\n\n 筆者が実行した具体的な手順を以下で紹介する。\n\n まず、筆者が使用したのは「YubiKey 5 Nano」だ。このUSBセキュリティキーは非常に小型で、MacBookの2つのUSB-Cポートの1つに差し込むと、ほんの少ししか出っ張らない。下のYubiKey 5シリーズの製品群の写真で一番右にあるのがYubiKey 5 Nanoだ。\n\n 差し込んで、セッション終了時に取り外すように設計された、より従来型のキーを使用することもできたが、YubiKey 5 Nanoだと、MacBookに差し込んだままにしておくことが可能で、別途持ち運ぶ必要がないことに特に魅力を感じた。\n\n セットアッププロセスは非常に簡単で、Yubicoのこちらのサポート記事「Using Your YubiKey as a Smart Card in macOS」で説明されている。以下で紹介する手順では、過去に設定されたことのない新しいハードウェアキーを使用して、セットアップを開始することを前提としている。\n\nmacOSでYubiKeyをセットアップする方法\n\n1. アプリをダウンロードしてインストールする\n\n 「YubiKey Manager」アプリをMacにダウンロードしてインストールする。\n2. ハードウェアキーを設定する\n\n YubiKey Managerを開いて、「Applications」（アプリケーション）＞「PIV」の順にクリックし、「PIN Management」（PINの管理）をクリックする。その後、以下の変更を加える。\n\n新しいPINを設定する。「Change PIN」（PINを変更）をクリックして、デフォルト値の123456を任意の値（6～8文字）に変更する。macOSではPINに数字以外の文字を使うことができないので、数字だけを使用してほしい。この値は、Macのロックを解除するときに入力する。\n\n新しいPINロック解除キー（PUK）を設定する。「Change PUK」（PUKを変更）をクリックして、デフォルト値を12345678から任意の値（数字のみで6～8文字）に変更する。このコードを記録して、安全な場所で保管してほしい。間違ったPINを3回連続で入力すると、PINがブロックされる。その場合、ブロックを解除するには、PUKを入力するしかない。正しいPUKが分からない場合や、誤ったPUKを3回連続で入力した場合は、ハードウェアキーをリセットして、最初からやり直す必要がある。\n\n新しい管理キーを設定する。「Change Management Key」（管理キーを変更）をクリックして、「Generate」（生成）をクリックし、48文字のトリプルDESキーを新しいランダムな値に変更する。この値を覚えておく必要はないので、ここで「Protect with PIN」（PINで保護する）のチェックボックスもオンにして、「Finish」（完了）をクリックする。\n\n3. macOS向けのセットアップを行う\n\n YubiKey Managerを開いて、「Applications」（アプリケーション）＞「PIV」の順にクリックし、「Setup for macOS」（macOS向けにセットアップ）をクリックした後、「Setup for macOS」（macOS向けにセットアップ）をクリックする（これは前のボタンと同じラベルが付いた2つ目のボタンだ）。\n\n このプロセスでは、ハードウェアキーを、PIVアプリケーションに関連付けられた証明書と組み合わせて、キーをmacOS互換のスマートカードに変換する。既存の値を上書きすることを確認した後、PINを入力して、「OK」をクリックする。\n\n4. ハードウェアキーをmacOSユーザーアカウントとペアリングする\n\n ハードウェアキーを取り外して、再度差し込む。macOSでは、ハードウェアキー／スマートカードをユーザーアカウントに関連付けるように求められる。その通知をクリックして、ペアリングプロセスを開始する。\n\n その後に表示される画面に注意してほしい。ハードウェアキーのPIN、macOSユーザーアカウントのパスワード、「iCloudキーチェーン」のパスワード（おそらく、アカウントのパスワードと同じであるはずだ）を順番に入力していく必要がある。\n\n これで完了だ。次にMacBookを再起動するときは、パスワードを入力する代わりにPINを入力するだけで済む。それでTouch ID指紋リーダーのロックが解除され、スリープから再開した後に、Touch IDでサインインできるようになる。\n\n 再起動するとき（または、長時間のスリープセッションから再開するとき）にYubiKeyが差し込まれていない場合は、パスワードの入力を求められる。キーを差し込んで、そのプロンプトを変更し、代わりにPINを使用することもできる。\n\n このサインイン方法だと、パスワードをより長いものに安全に変更できる（少なくとも12文字のパスワードを使用すべきだと専門家は主張しているが、大文字と小文字、少なくとも1つの数字を含むパスフレーズに変更しても構わない）。システムレベルの変更を加えるために、そのパスフレーズを入力することが時折必要になるが、MacBookにサインインするのにそのパスフレーズは不要だ。\n\nこの記事は海外Red Ventures発の記事を朝日インタラクティブが日本向けに編集したものです。,['https://newsatcl-pctr.c.yimg.jp/t/amd-img/20240113-35213818-zdnet-000-1-view.jpg?pri=l&w=640&h=480&exp=10800'],['https://news.yahoo.co.jp/articles/5c45c03674f9fb50b199561f63359a86e4742d8e/images/000']
