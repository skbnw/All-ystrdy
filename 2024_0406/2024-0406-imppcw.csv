headline,mainEntityOfPage,image,datePublished,dateModified,author,media_en,media_jp,str_count,body,images,external_links
【第49回】Ryzenを入手したけど、CPU温度が取得できない人のためのTips（PC Watch）,https://news.yahoo.co.jp/articles/5fb6417be4644f56f20196b156ade67290b81155,https://newsatcl-pctr.c.yimg.jp/t/amd-img/20240406-00000013-imppcw-000-1-view.jpg?exp=10800,2024-04-06T06:13:31+09:00,2024-04-06T06:13:31+09:00,PC Watch,imppcw,PC Watch,3768,"\n写真：PC Watch\n16コア32スレッドCPU。それはあこがれだった。\n\n 思えばここ20年弱はマルチコア化の時代であった。よく覚えているわけではないが、筆者も2005年末くらいにAthlon 64 X2 3800+で1台組んでいるようだ。\n【画像】筆者所有のRyzen 9 7950X近影\n筆者はAMD愛好者なので、Intelの話はさておくとして、時代とともにコアは増え続け、コンシューマ向けのRyzen 9 5950Xではついに16コア32スレッドになった。この時点ではあまり購入しようとは思わなかった。\n\n そして現在のハイエンドCPUであるRyzen 9 7950Xが出た。実は当初買う気はなかったが、さまざまな知見が貯まって、ハイエンドCPUでも扱えそうな気分になってきたことに加え、自分で使用するパッケージのビルド時間がかかりすぎることなどが気になってきた。とはいえ、買うのはなかなかに躊躇する価格だ。しかしあと半年もすれば、より高速化されている新モデルが出るだろう。その新モデルと7950Xを比較して、購入するか決めることにした。\n\n その前に懐に余裕ができたので、たいして迷うこともなくRyzen 7 8700Gとマザーボードとメモリを購入した。結局マザーボードは3枚購入することになったが、どうせCPUは増えるものだし、いつかは使うのだ。それほど気にすることもない。\n\n クレジットカードの引き落とし額を除けば。\n\n■ 突然訪れたRyzen 9 7950X\n\n そんな中、ひょんなことから手に入ってしまったのだ。お目当てのRyzen 9 7950Xを。\n\n 手に入れたとはいっても、当然のことながら正規代理店のものを某ショップで購入したのだ。懸賞で当たったということはない。\n\n しかしここで計画が狂う。マザーボードはあと2枚あるし、前メインPCで使用していたPCケース、CPUファン、電源はそのまま流用できる。あとはメモリを購入すればいいだけ……のはずだった。\n\n ところが手元の電源の容量は500Wで、7950Xをぶん回すには少々心許ないことに気づき、700Wのものを追加購入することに。とはいえ、あこがれのCPUが手に入ったのだ。それほど気にすることもない。\n\n クレジットカードの引き落とし額を除けば。\n\n そしてここでふと気づいたのだ。UbuntuだとCPUの温度とファンの回転数が取得できないことを。ということは、7950Xがフルパワーを出しているのか、サーマルスロットリングしているのかが分からない。これでは致命的に困る。\n\n 今回はUbuntuでもCPUの温度とファンの回転数を取得し、7950Xが本気を出しているかを計測する。同時に、地球と財布に優しくするため手軽かつ確実に消費電力を下げてみて、性能とのバランスを考えてみたい。Ubuntuでもそういう自作PC特有の遊びができることを示したい。\n\n■ PCの構成\n\n まずはPCの構成を見ていこう。次の表の通りだ。\n\n このうちB650I AORUS ULTRAはなかなかに癖が強く苦戦した。このマザーボードは前面部にライザーカード(GC-B650I FRONT CARD)を取り付ける必要があり、これのおかげで、当初ギリギリのケースであるChopin MAXに入れようして、コネクタを破損してしまった。\n\n また、M2 SSDもライザーカードになっており(マニュアルではGC-B650I BTB PLUG、WebサイトではM.2 Thermal Guard III)、この背が高いので一部CPUファンが干渉して接続できない。曰く「M.2 Thermal IIIの外観デザインは、CPUクーラーの取り付けに影響を与える可能性があるため、CPU簡易水冷クーラーの使用を推奨します。」とのこと。AK620は問題なく取り付けられたが、120mm角ファンを搭載するようなトップフロー型CPUクーラーはまず非対応と思ったほうがいい。\n\n ビデオカード(dGPU)は検証時点では接続しておらず、PCIeスロットに接続する変換ボードを経由してSSDを接続している。\n\n ケースファンはもともと付いていたが、PWM非対応なのでたまたまあったストック品と交換した。電源ユニットはケーブルをそのまま利用したかったのでSILVER STONE製にしたが、SFXサイズにする必要があったかは疑問が残る。\n\n なお、使用したUbuntuのバージョンは22.04.4だ。すなわちカーネルのバージョンは6.5である。\n\n■ CPUの温度とファンの回転数を取得する\n\n CPUの温度とファンの回転数を取得する方法は第31回で紹介している。\n\n 要するに次のコマンドを実行するだけだ。\n\n$ sudo apt install lm-sensors\n$ sudo sensors-detect\n\n しかし無常にも「Sorry, no sensors were detected」となってしまう。\n\n 要は、現在のカーネルでは対応しないということで、別途カーネルモジュールをインストールする必要がある。\n\n 具体的には次のコマンドを実行する。\n\n$ sudo apt install git dkms\n$ mkdir git\n$ cd git\n$ git clone https://github.com/frankcrawford/it87.git\n$ cd it87\n$ sudo make dkms\n$ sudo modprobe it87 ignore_resource_conflict=1\n\n これでカーネルモジュール「it87」が読み込めた。ただ、このままでは起動するたびに最下行のコマンドを実行する必要がある。起動時に読み込ませたい場合は、次のような中身のファイルを作成する。\n\n$ cat /etc/modules-load.d/it87.conf\nit87\n$ cat /etc/modprobe.d/it87.conf\noptions it87 ignore_resource_conflict=1\n\n sensorコマンドを実行すると「it8689-isa-0a40」という項目が増え、ここにたくさんの温度が表示されている。しかしどれがなんの温度なのか分かりにくい。\n\n 負荷をかけてみると下図のように「temp3」の温度が高くなる。これがCPUの温度ということで間違いないだろう。\n\n こういった場合、「psensor」というパッケージをインストールして起動しておくと、温度などを分かりやすく表示できるのでおすすめだ。\n\n■ ECO Mode\n\n 16コア32スレッドは魅力的だが、常にそこまで絶対的な性能を必要としているわけではない。消費電力をマイルドにしつつ性能の低下が最小限で抑えられれば、それに越したことはない。\n\n B650I AORUS ULTRAのUEFI BIOSメニューに入り、「Settings」-「AMD CBS」-「SMU Common Options」に「ECO Mode」がある。\n\n 7950Xでは3パターンから選べ、「Enable」にすると65W、「Enable - 105W」にすると105W、「Disable」にするとデフォルト(170W)に変更できる。\n\n せっかくなのでこの3パターンでベンチマークを計測してみよう。使用するベンチマークはPhoronix Test Suiteで、Linuxカーネルのビルドを行なう。\n\n defconfigは極めてシンプルな場合のビルド、allmodconfigは逆に極めて複雑(項目が多い)ビルドで、同じビルドでもかなり時間に差が出る。後者のほうが実態に近いであろう。\n\n 消費電力はワットチェッカーの目視確認なので必ずしも正確とはいえないが、消費電力と性能のバランスがいいのは105Wの結果であることが分かったので、今後はこの設定で使っていく予定だ。\n\n■ ほかのマザーボードでは\n\n GIGABYTEのマザーボードは、おおむね今回紹介した方法で温度とファンの回転数を取得できるはずだ。では、ほかのメーカーのマザーボードではどうだろうか。\n\n 筆者の前メインPCのマザーボードはMPG B550I GAMING EDGE WIFIであったが、別のカーネルモジュールでの対応を確認している。ドキュメントも詳細で、これを読めばインストールできるだろう。\n\n 現メインPCのマザーボードはB650M Pro RSで、こちらはArchWikiにそのものズバリが書かれていた。\n\n ……そう、今回の記事は「UbuntuなのにArch Linuxの情報を参考にした」のだ。オチがついたところで今回はおしまい。\nPC Watch,Ubuntu Japanese Team あわしろいくや",['https://newsatcl-pctr.c.yimg.jp/t/amd-img/20240406-00000013-imppcw-000-1-view.jpg?exp=10800'],"['https://news.yahoo.co.jp/articles/5fb6417be4644f56f20196b156ade67290b81155/images/000', 'https://pc.watch.impress.co.jp/img/pcw/docs/1582/147/html/01.jpg.html']"
AI導入は今でなくてもいい？（PC Watch）,https://news.yahoo.co.jp/articles/15186463dd05e92bd3c4f643c7e64fcc94b7fd0a,https://newsatcl-pctr.c.yimg.jp/t/amd-img/20240406-00000014-imppcw-000-1-view.jpg?exp=10800,2024-04-06T06:48:25+09:00,2024-04-06T06:48:25+09:00,PC Watch,imppcw,PC Watch,3159,"\n写真：PC Watch\n絶対手元にあるはずだし、捨てるはずがない情報。昔だったら絶対に探し出せなかったかもしれない情報が、今なら見つかるかもしれない。そのために人間が努力しておかなければならないのは、情報の機械可読化だ。多くの情報が機械を使って生成されるようになった今、少しずつ、そのニーズも変化しているが、とりあえず、機械可読な情報はためこんでおこう。蓄める技術を究めれば探す技術はあとからついてくる。きっとあとでよかったと思うはずだ。\n\n■ 企業内での動画コンテンツを活かす\n\n KKCompany Japanが法人向けマルチメディア対応AIプラットフォーム「BlendVision AiM」サービスの提供を開始した。企業が抱えるあらゆる動画、文字情報の活用を促進する新しいプラットフォームだという。\n\n 同社は、アジア太平洋圏に事業拠点を持つグローバル企業グループで、台湾で音楽配信事業KKBOXを出自とし1999年に創業、動画・ライブ配信ソリューションのBlendVisionなどで知られている。KDDIのauスマートパスプレミアムミュージックサービスやテレビ朝日のTELASAを支えるプラットフォームを提供するテクノロジー企業として有名だ。ちなみにKDDIはKKCompanyの筆頭株主で、45%の株式を保有している。\n\n 今回発表された「BlendVision AiM」では、具体的には読み込ませた動画を実時間の半分程度で解釈し、その音声情報を分析し、データベースとしての可用性を持たせることができる。この先、話者判別や動画としての人の動きなども学習情報として保存し、異なるコンテンツの関係性をたぐり、自由に呼び出せるようになるという。\n\n コロナ禍を機に、オンラインコミュニケーションが浸透していく中で、企業内での会議がハイブリッドになり、TeamsやZoomなどを使って同時録画されるのが当たり前になって久しい。その会議の議事録を作り、要約して、参加者に配布するような仕事がAIに頼られるようになるのは正しい進化だろう。今回のシステムはそのための第一歩だともいる。\n\n 今回、そのグランドアンバサダーとして招かれTV CMに起用された東進ハイスクールの林修氏は「いつやるか? 今でしょ」で知られるが、発表会ゲストとして登壇し、IT活用が遅れている教育現場はカンと経験に依存しているからこそAIが重要で、動画の検索ができるようになるのはありがたいとその方向性を高く評価した。冒頭の写真はKKCompany Japan合同会社代表のトニー・マツハシ氏(左)と林氏(右)だ。\n\n 実は、先行トライアルユーザーとして、代々木ゼミナールが発売前の利用にチャレンジしていたそうなのだが、同予備校では30分程度の各教科の動画コンテンツ数千本を常時活用しているが、膨大な数のアーカイブからどのコンテンツでどんなことを解説しているのかが瞬時に抽出できることは素晴らしいとコメントしている。\n\n■ 現時点で参照するのは音声データのみ\n\n 今までできなかったことができるようになるというのは素晴らしい。デジタルの旨みは手元の情報が将来役に立つか立たないか分からなくても、とりあえず、機械可読なかたちにして置いておけばきっと重宝する時代がやってくるということだ。\n\n 発表会では、スポーツ中継を同社のAiMに学習させれば、特定の選手がどう活躍しているかを簡単に抽出できるようになるといったことがアピールされていた。もっとも、現時点で動画データの動画部分を学習することはなく、使われるのは動画に伴う音声データだけだ。それに動画やテロップなどの情報も加味されるようになるのは時間の問題だともいう。そのときが来れば再学習させれば済む話で、それが機械可読であることの重要性でもある。\n\n ちなみに、MicrosoftのAIサービスCopilot in Windowsでは、Edgeで開いたYouTube動画を要約させ、文字情報として表示させることができる。10分の動画を全て見ることなくその内容を把握することができている。それがもっと進化すればとも思う。\n\n■ 捨てなければきっと役に立つ日がくる\n\n 今回、一連の発表を聞いて思い出したのが2005年頃のことだ。この連載のスタートが今から約20年前の2004年の5月で、その1年後の秋にソニーが「Xビデオステーション」を発売した。8チャンネルのVHF、UHF局を同時に自動録画できるビデオレコーダーだ。録画した動画はPCにダウンロードすることもできた。\n\n 地デジへの切り替えとともにお払い箱にしてしまったが、全録ビデオの元祖ともいえるこの製品がもたらした未来への可能性は計り知れないものがあったと思う。あのとき撮りためたビデオを、今、AIに分析させれば、驚くような活用ができるに違いないし、それは、今から得られる情報をため込むことの可能性にもつながる。\n\n 翌2006年、PFU(現リコー)のドキュメントスキャナ「ScanSnap S500」が登場した。誰もが知る有名なスキャナブランドだが、紙の書類をスキャンすると、そこにある文字は紙の上のシミから機械可読な文字データとして扱えることが新しい当たり前となった。具体的には、出力するPDFに透明属性の文字データをかぶせることによる検索性の付与だ。スキャン後、コンピュータのアイドル時間を見つけてOCR処理が行なわれるようになっていた。\n\n 個人的にはその前モデルの「fi-5110EOX3」からのユーザーだったが、OCRエンジンが富士通製になり、その実用度が大きく改善されたことを覚えている。\n\n 何しろ、手元の紙の書類をスキャンすればデジタルデータになり、しかも検索可能な状態になって保存されるというのは画期的だった。以前も書いたが、探せない書類はないのと同じだからだ。もちろん整理魔で几帳面なユーザーならスキャンしたデータに的確なファイル名をつけ、最適のフォルダに保存し、タグなどで整理しておくかもしれない。場合によっては異なるフォルダにショートカットを置くといったこともするだろう。\n\n でも、誰もがそういうことができる才能を持っているわけじゃない。というより、そういうことこそまかせられる有能なパートナーがいれば、文句一つ言わずに整理して、のちの利用に備えることができるはずだ。\n\n そのパートナーこそがAIじゃないかと思う。\n\n 紙の資料のデジタル化については国立国会図書館のプロジェクトに期待している。\n\n はっきりいってAiMのチャレンジはまだ完成はしていない。話者認識ができなければ会議の議事要約に使うには難しいし、そもそも動画データの特性を活かし切れていない。過去の異なる会議との関係性を導き出せなければ困ることもある。人間は人間のカンや経験だけでそれをやってきたのだ。\n\n でも、AIは成長するし、処理系も冗長になり高度な分析ができるようになる。新たなアルゴリズムにも期待できるし、実用が不安だった膨大な処理も余裕でこなせるようになるだろう。期待に添えるようになるのは時間の問題だ。\n\n 林修氏はこうも言っていた。AI技術の開発は欧米に先にやられてしまったかもしれないが、その活用のところで他国にないような技術を作れれば、キャッチアップできるかもしれないと。資源はないが技術立国として、ここからの活用で活路を見出してほしいと。\n\n やるなら今でしょ! とは限らないということか。\nPC Watch,山田 祥平",['https://newsatcl-pctr.c.yimg.jp/t/amd-img/20240406-00000014-imppcw-000-1-view.jpg?exp=10800'],['https://news.yahoo.co.jp/articles/15186463dd05e92bd3c4f643c7e64fcc94b7fd0a/images/000']
